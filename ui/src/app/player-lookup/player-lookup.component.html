<div id="search-form">
  Player Name:
  <input [(ngModel)]="characterNameInput" (keypress)="onPlayerNameKeyPress($event)" />
  Metric:
  <select [(ngModel)]="metricInput">
    <option *ngFor="let rankingMetric of rankingMetricValues" [value]="rankingMetric">{{ rankingMetric }}</option>
  </select>
  Raid:
  <app-raid-size-selection selectionType="radio" [(ngModel)]="raidAndSize"></app-raid-size-selection>
  <button (click)="onSearchClick()">Search</button>
  <button (click)="onClearClick()">Clear</button>
</div>

<div class="loading-spinner large" *ngIf="zoneRankingsLoading"></div>

<ng-container *ngIf="viewModel && viewModel.encounters && !zoneRankingsLoading">
  <div style="display: flex">
    <div style="flex: 1; border: 1px black solid; border-right: 0">
      <h3 style="text-align: center">{{ viewModel.characterName }}</h3>
      <app-player-raid-stats
        [best]="viewModel.bestPerformanceAverage"
        [median]="viewModel.medianPerformanceAverage"
        [hardModes]="viewModel.hardModes"
        [hardModeCount]="viewModel.maxPossibleHardmodes"
      ></app-player-raid-stats>
    </div>

    <div style="flex: 2; display: flex; flex-direction: column; justify-content: center; align-items: center">
      <app-grid style="width: 100%" [data]="viewModel.encounters" [columns]="viewModel.columns"></app-grid>
    </div>
  </div>
</ng-container>
